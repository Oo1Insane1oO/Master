%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Appendix A %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter{Theory\label{appendix:A}}

\section{Atomic Unit\label{appendix:Aatomic}}
    The units used in the calculations are known as atomic units. The premise
    is to write the natural length unit in terms of the \txtit{Bohr
    radius}\cite{GriffQuan} 
        \begin{equation}
            a_0 = \frac{4\pi\epsilon_0\hbar^2}{m_ee^2} = 0.529\text{\AA},
        \end{equation}
    giving the energy unit known as a \txtit{Hartree} and has the value
        \begin{equation}
            E_{\text{Hartree}} = m_e\left(\frac{4\pi\epsilon_0}{\hbar
            e}\right)^2 = 27.211 \text{eV},
        \end{equation}
    and the electronmass $m_e$, elementary charge $e$, reduced Plancks constant
    $\hbar$ and free-space permittivity $\epsilon_0$ are all equal to unity,
        \begin{equation}
            m_e = e = \hbar = 4\pi\epsilon_0 = 1.
        \end{equation}
    The kinetic operator can then be rewritten to
        \begin{equation}
            K = - \frac{1}{2} \sumll{i} \nabla^2_i,
        \end{equation}
    and the Coulomb interaction is simply
        \begin{equation}
            V_{\text{I}} \sumll{i<j} \frac{1}{r_{ij}},
        \end{equation}
    with $r_{ij}$ also rescaled in terms of the Bohr radius.

\section{Lagrange Multiplier Method\label{sec:lagrange_multipliers}}
    See \cite{calcVar,calcVarSpring}. The optimization method of Lagrange
    multipliers maximizes(or minimizes) a function
    $f:\mathbb{R}^N\rightarrow\mathbb{R}$ with a constraint
    $g:\mathbb{R}^N\rightarrow\mathbb{R}$ We assume that $f$ and $g$ have
    continuous first derivatives in all variables(continuous first partial
    derivatives). \\
    Given the above we can define a so-called Lagrangian
    $\mathcal{L}$
        \begin{equation}
            \mathcal{L}[x_1,\dots,x_N,\lambda_1,\dots,\lambda_M] =
            f(x_1,\dots,x_N) - \lambda g(x_1,\dots,x_N)
            \label{eq:lagrangian}
        \end{equation}
    where the $\lambda$ is called a Lagrange-multiplier. We now state that if
    $f(x^0_1,\dots,x^0_N)$ is a maxima of $f(x_1,\dots,x_N)$ then there exists
    a Lagrange-multiplier $\lambda_0$ such that
    $(x^0_1,\dots,x^0_N,\lambda_0)$ is a stationary point
    for the Lagrangian. This then yields the $N+1$ Lagrange-equations
        \begin{align}
            \sum^N_{i=1} \frac{\prtl\mathcal{L}}{\prtl x_i} +
            \frac{\prtl\mathcal{L}}{\prtl \lambda} = 0
            \label{eq:lagrangeEQ}
        \end{align}
    to be solved for $x_1,\dots,x_N$ and $\lambda$.

\section{Interaction-Term in Fock-Operator}
        Introducing the so-called permutation operator $P$ which interchanges
        the labels of particles meaning we can define
            \begin{equation}
                A \equiv \frac{1}{N!}\sum_p(-1)^pP
            \end{equation}
        the so-called \txtit{antisymmetrization} operator. This operator has
        the following traits
            \begin{itemize}
                \item The Hamiltonian $H$ and $A$ commute since the Hamiltonian
                    is invariant under permutation.
                \item $A$ applied on itself (that is $A^2$) is equal to itself
                    since permuting a permuted state reproduces the state.
            \end{itemize}
        We can now express our Slater $\Psi_T$ in terms of $A$ as
            \begin{equation}
                \Psi_T = \sqrt{N!}A\prod_{i,j}\psi_{ij}
            \end{equation}
        where $\psi_{ij}=\psi_j(\blds{r}_i)$ is element $i,j$ of the Slater
        matrix (the matrix associated with the Slater determinant $\Psi_T$).

        The interaction part of $H$ is then
            \begin{equation}
                \dinner{\Psi_T}{H_I} = N!\prod_{i,j}\dinner{\psi_{ij}}{AH_IA}
            \end{equation}
        The interaction $H_I$ and $A$ commute since $A$ commutes with $H$
        giving
            \begin{align}
                AH_IA\ket{\psi_{ij}} &= \frac{1}{N!^2}\sum_{i<j}\sum_{p}
                (-1)^{2p}\fij P\ket{\psi_{ij}} \\
                &= \frac{1}{N!^2}\sum_{i<j}\fij(1-P_{ij})\ket{\psi_{ij}}
            \end{align}
        The factor $1-P_{ij}$ comes from the fact that contributions with
        $i\neq j$ vanishes due to orthogonality when $P$ is applied. The final
        expression for the interaction term is thus
            \begin{equation}
                \dinner{\Psi_T}{H_I} =
                \sum_{i<j}\prod_{k,l}\left[\dinner{\psi_{kl}}{\fij} -
                \bra{\psi_{kl}}\fij\ket{\psi_{lk}}\right]
            \end{equation}
        Writing out the product and realizing the double summation over pairs
        of states we end up with
            \begin{equation}
                \dinner{\Psi_T}{H_I} = \frac{1}{2}
                \sum_{i,j}\left[\dinner{\psi_{ij}\psi_{ji}}{\fij} -
                \bra{\psi_{ij}\psi_{ji}}\fij\ket{\psi_{ji}\psi_{ij}}\right]
            \end{equation}
        More comprehensive details and derivations are given in
        \cite{compphysThijssen,basicMB}.

\section{Multi-Index Notation\label{sec:multiIndexNotation}}
    This section will give a brief overlook of a notation which compresses
    indices running in similar fashion, the so-called \txtit{multi-index
    notation}\cite{multiindex}. We will make use of this to reduce indices in
    each dimension down to one. \\
    The rules are stated as, given a n-tuple $(x_1,\dots x_n)$ over any field
    $\mathbb{F}$ (real, complex, etc.), a multi index is defined to be 
        \begin{equation}
            i=(i_1,\dots i_n)\in \mathbb{Z}^n_+
        \end{equation}
    with expansions
        \begin{equation}
            \begin{aligned}
                \abs{i} &= \abs{i_1} + \dots + \abs{i_n} \\
                i! &= i_1! \dots i_n! \\
                x^i &= x^{i_1}_1 \dots x^{i_n}_n \in \mathbb{F}[x] \\
                i \pm j &= (i_1 \pm j_1,\dots, i_n+j_n) \in \mathbb{Z}
            \end{aligned}
        \end{equation}
    In essence the notation just wraps the notion of element-wise operations
    into one single index variable.
